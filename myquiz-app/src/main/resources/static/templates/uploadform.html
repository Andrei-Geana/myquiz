<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1">
    <title>Upload Questions</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/styles.css}">
    <script>
        function showTab(tabId) {
            document.getElementById('excel-tab').classList.remove('active');
            document.getElementById('archive-tab').classList.remove('active');
            document.getElementById('excel-content').classList.remove('active');
            document.getElementById('archive-content').classList.remove('active');
            document.getElementById(tabId+'-tab').classList.add('active');
            document.getElementById(tabId+'-content').classList.add('active');
        }
    </script>
    <style>
        .question-type-tabs {
            display: flex;
            width: 100%;
            margin-bottom: 20px;
        }
        .question-type-tabs .tab {
            flex: 1;
            text-align: center;
            padding: 12px 0;
            font-size: 1.1em;
            border: none;
            background: #f0f0f0;
            cursor: pointer;
            transition: background 0.2s;
        }
        .question-type-tabs .tab.active {
            background: #d0eaff;
            font-weight: bold;
        }
        .question-type-tabs .tab:not(:last-child) {
            border-right: 1px solid #ccc;
        }
    </style>
</head>
<body>

<div th:insert="~{fragments::menu}"></div>
<div style="clear:both; margin-bottom:20px;"></div>

<div class="container" style="margin-top:40px;">
    <h2>Upload Questions</h2>
    <div class="question-type-tabs">
        <button id="excel-tab" class="tab active" type="button" onclick="showTab('excel')">Excel File Upload</button>
        <button id="archive-tab" class="tab" type="button" onclick="showTab('archive')">Archive Upload</button>
    </div>
    <div class="editor-container">
        <div id="excel-content" class="tab-content active">
            <form method="POST" enctype="multipart/form-data" th:action="@{/upload}">
                <input type="file" name="file" accept=".xlsx,.xls" required />
                <input type="text" name="username" placeholder="Enter your username" required/>
                <label for="courseId">Course:</label>
                <select name="courseId" id="courseId" required>
                    <option value="" disabled selected>Select a course</option>
                    <option th:each="course : ${courses}"
                            th:value="${course.id}"
                            th:text="${course.course}"></option>
                </select>
                <input type="text" name="name" placeholder="Q1" required/>
                <select name="template" required>
                    <option value="" disabled selected>Select template</option>
                    <option th:each="template:${templates}"
                            th:value="${template}"
                            th:text="${template}"></option>
                </select>
                <input type="submit" value="Submit" />
            </form>
        </div>
        <div id="archive-content" class="tab-content">
            <form method="POST" enctype="multipart/form-data" th:action="@{/upload-archive}">
                <input type="file" name="archive" id="archive" accept=".zip" required/>
                <label for="courseId">Course:</label>
                <select name="courseId" id="archiveCourseId" required>
                    <option value="" disabled selected>Select a course</option>
                    <option th:each="course : ${courses}"
                            th:value="${course.id}"
                            th:text="${course.course}"></option>
                </select>
                <label for="quiz">Quiz name:</label>
                <input type="text" name="quiz" id="quiz" placeholder="Quiz name" required/>
                <label for="year">Year:</label>
                <input type="number" name="year" id="year" min="2000" max="2100" required/>
                <input type="submit" value="Upload and Import" />
            </form>
        </div>
    </div>
</div>
